/*!
 * utest-assert v0.0.1
 *
 * MIT license
 * http://opensource.org/licenses/MIT
 *
 * (c) 2012, 2014
 */
(function(e,t){"use strict";function n(){return t(c,r)}var r,c="undefined"==typeof window||null==window.navigator?global:window;return"undefined"==typeof exports||null!=e&&e!==exports&&e!==c||(e=exports),r=e||c,"function"==typeof define&&define.amd?define(n):n()})(this,function(e,t){"use strict";function n(e){return Array.isArray(e)}function r(e){return"number"==typeof e}function c(e){return"string"==typeof e}function a(e){return void 0===e}function o(e){return"RegExp"===p(e)}function u(e){return"object"==typeof e&&null!==e}function i(e){return"function"==typeof e}function s(e){return"undefined"==typeof Buffer?!1:e instanceof Buffer}function f(e){return"Arguments"===p(e)}function l(e,t){return 0==c(e)?e:t>e.length?e:e.slice(0,t)}var p,h,d,g,y=Array.prototype.slice,v={};(function(){function e(){var e=[];for(var t in e)e.push(t);return e}p=function(e){return Object.prototype.toString.call(e).replace("[object ","").replace("]","")},h=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},g=Object.keys?Object.keys:e,d=function(e,t){if(null==e&&(e={}),null==t)return e;for(var n in t)e[n]=t;return e}})();var x;(function(){function e(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=t(this),this.generatedMessage=!0);var n=e.stackStartFunction||x;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else try{this.stack=""+Error().stack}catch(r){}}function t(e){var t=JSON.stringify(e.actual,n),r=JSON.stringify(e.expected,n);return l(t,128)+" "+e.operator+" "+l(r,128)}function n(e,t){return a(t)?""+t:!r(t)||!isNaN(t)&&isFinite(t)?i(t)||o(t)?""+t:t:""+t}x=function(t,n,r,c,a){throw logger.log(">> fail".red.bold),new e({message:r,actual:t,expected:n,operator:c,stackStartFunction:a})},v.AssertionError=e,v.fail=x,h(e,Error)})(),function(){function e(e,r,a,o){var u,s,f;n(r)&&(s=r.shift(),f=r),i(r)&&(s=r,f=[]),c(a)&&(o=a,a=null);try{s.apply(null,f)}catch(l){u=l}if(o=""+(a&&a.name&&" ("+a.name+")."||".")+(o&&" "+o||"."),e&&!u&&x(u,a,"Missing expected exception"+o),!e&&t(u,a)&&x(u,a,"Got unwanted exception"+o),e&&u&&a&&!t(u,a)||!e&&u)throw u}function t(e,t){return e&&t?o(t)?t.test(e):e instanceof t?!0:t.call({},e)===!0?!0:!1:!1}v.throws=function(){e.apply(this,[!0].concat(y.call(arguments)))},v.doesNotThrow=function(){e.apply(this,[!1].concat(y.call(arguments)))},v.ifError=function(e){if(e)throw e}}(),function(){v.ok=function(e,t){e||x(e,!0,t,"==",v.ok)},v.equal=function(e,t,n){e!=t&&x(e,t,n,"==",v.equal)},v.notEqual=function(e,t,n){e==t&&x(e,t,n,"!=",v.notEqual)},v.strictEqual=function(e,t,n){e!==t&&x(e,t,n,"===",v.strictEqual)},v.notStrictEqual=function(e,t,n){e===t&&x(e,t,n,"!==",v.notStrictEqual)}}(),function(){function e(e,n){if(e===n)return!0;f(e)&&(e=y.call(e)),f(e)&&(e=y.call(e));var r=p(e);switch(r){case"Number":case"Boolean":case"String":return e===n;case"RegExp":case"Date":return""+e==""+n}if(s(e)&&s(n)){if(e.length!=n.length)return!1;for(var c=0;e.length>c;c++)if(e[c]!==n[c])return!1;return!0}return u(e)||u(n)?t(e,n):e===n}function t(t,n){var r,c,a=g(t).sort(),o=g(n).sort();if(a.length!=o.length)return!1;for(c=a.length;-1!==--c;)if(a[c]!=o[c])return!1;for(c=a.length;-1!==--c;)if(r=a[c],!e(t[r],n[r]))return!1;return!0}v.deepEqual=function(t,n,r){e(t,n)===!1&&x(t,n,r,"deepEqual",v.deepEqual)},v.notDeepEqual=function(t,n,r){e(t,n)===!0&&x(t,n,r,"notDeepEqual",v.notDeepEqual)}}(),function(){function e(e){var t=Object.prototype.toString.call(e).replace("[object ","").replace("]","");switch(t){case c:case a:case u:case i:case f:case s:case l:return t;case o:return"number"==typeof e.length&&"function"==typeof e.splice&&"function"==typeof e.indexOf?a:o;case"Null":case"Undefined":return p;default:return h}}function t(e,t,c,a,o){var u=n(e,t);u!==c&&(c!==!1||u===!0)&&("string"==typeof u&&(a="("+u+") "+a),x(e,t,a,r,o))}function n(t,r){var d,g,y=e(t),v=e(r);switch(y){case u:return u===v?-1!==t.indexOf(r)||"Not a substring of "+t:i===v?r.test(t)||"RegExp failed: "+t:"Unexpected types: String-"+v;case i:case c:case s:case f:case l:return""+t==""+r||"Unexpected value: "+t;case h:return t===r||"Reference check";case o:if(u===v)return r in t||"Property expected:"+r;if(o===v){for(var x in r){if(x in t==!1)return"Property expected: "+x;if(d=e(t[x]),g=e(r[x]),g!==p){if(d!==g)return"Type missmatch: "+d+"-"+g;if(u!==d){var E=n(t[x],r[x]);if(E!==!0)return E}else if(t[x]!==r[x])return"Unexpected value: "+t[x]}}return!0}return"Unexpected types: Object-"+v}if(a===y)switch(v){case s:case u:case f:return-1!==t.indexOf(r)||"Array should contain: "+r;case c:case i:case l:var m=""+r;return t.some(function(e){return""+e===m})||"Array should contain: "+m;case a:var w,b=0,q=r.length,k=t.length;e:for(;q>b;b++)switch(g=e(r[b])){case u:case s:case f:case i:case c:case l:var E=n(t,r[b]);if(E!==!0)return E;continue e;case o:case a:for(w=0;k>w&&(g!==e(t[w])||n(t[w],r[b])!==!0);w++);if(w===k)return g+" is not a subset";continue e}return!0}return"Unexpected types: "+y+"-"+v}v.has=function(e,n,r){t(e,n,!0,r,v.has)},v.hasNot=function(e,n,r){t(e,n,!1,r,v.hasNot)};var r="âŠ‡",c="Date",a="Array",o="Object",u="String",i="RegExp",s="Number",f="Boolean",l="Function",p="<undefined>",h="<reference-check>"}();var E=d(v.ok,v);return logger.log(E,Object.keys(E),v.equal,E.equal,E.equal.equal),t.assert=E});