/*!
 * utest-assert v0.99.99
 *
 * MIT license
 * http://opensource.org/licenses/MIT
 *
 * (c) 2012, 2014
 */
(function(t,e){"use strict";function n(){return e(c,r)}var r,c="undefined"==typeof window||null==window.navigator?global:window;return"undefined"==typeof exports||null!=t&&t!==exports&&t!==c||(t=exports),r=t||c,"function"==typeof define&&define.amd?define(n):n()})(this,function(t,e){"use strict";function n(t){return Array.isArray(t)}function r(t){return"number"==typeof t}function c(t){return"string"==typeof t}function o(t){return void 0===t}function a(t){return"RegExp"===p(t)}function i(t){return"object"==typeof t&&null!==t}function u(t){return"function"==typeof t}function s(t){return"undefined"==typeof Buffer?!1:t instanceof Buffer}function f(t){return"Arguments"===p(t)}function l(t,e){return 0==c(t)?t:e>t.length?t:t.slice(0,e)}var p,h,g,y,d=Array.prototype.slice,v={};(function(){function t(){var t=[];for(var e in t)t.push(e);return t}p=function(t){return Object.prototype.toString.call(t).replace("[object ","").replace("]","")},h=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},y=Object.keys?Object.keys:t,g=function(t,e){if(null==t&&(t={}),null==e)return t;for(var n in e)t[n]=e[n];return t}})();var E;(function(){function t(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=e(this),this.generatedMessage=!0);var n=t.stackStartFunction||E;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else try{this.stack=""+Error().stack}catch(r){}}function e(t){var e=JSON.stringify(t.actual,n),r=JSON.stringify(t.expected,n);return l(e,128)+" "+t.operator+" "+l(r,128)}function n(t,e){return o(e)?""+e:!r(e)||!isNaN(e)&&isFinite(e)?u(e)||a(e)?""+e:e:""+e}E=function(e,n,r,c,o){var a=new t({message:r,actual:e,expected:n,operator:c,stackStartFunction:o});throw a},v.AssertionError=t,v.fail=E,h(t,Error)})(),function(){function t(t,r,o,a){var i,s,f;if(n(r)){var l=d.call(r);s=l.shift(),f=l}u(r)&&(s=r,f=[]),c(o)&&(a=o,o=null);try{s.apply(null,f)}catch(p){i=p}if(a=""+(o&&o.name&&" ("+o.name+")."||".")+(a&&" "+a||"."),t===!0&&null==i&&E(i,o,"Missing expected exception"+a),t===!1&&e(i,o)&&E(i,o,"Got unwanted exception"+a),t&&i&&o&&!e(i,o)||!t&&i)throw i}function e(t,e){return t&&e?a(e)?e.test(t):t instanceof e?!0:e.call({},t)===!0?!0:!1:!1}v.throws=function(){t.apply(this,[!0].concat(d.call(arguments)))},v.doesNotThrow=function(){t.apply(this,[!1].concat(d.call(arguments)))},v.ifError=function(t){if(t)throw t}}(),function(){v.callbacks=[],v.await=function(){for(var t,e,n,r,c,o=arguments.length;--o>-1;)switch(c=arguments[o],typeof c){case"function":t=c;break;case"object":n=c;break;case"number":r=c;break;case"string":e=c}null==this.callbacks&&(this.callbacks=[]),(isNaN(r)||1>r)&&(r=1);var a=this.callbacks,i={count:r,name:e,error:Error()};return a.push(i),function(){return 0===--i.count&&a.splice(a.indexOf(i),1),"function"!=typeof t?null:t.apply(n,arguments)}}}(),function(){v.ok=function(t,e){t||E(t,!0,e,"==",v.ok)},v.equal=function(t,e,n){t!=e&&E(t,e,n,"==",v.equal)},v.notEqual=function(t,e,n){t==e&&E(t,e,n,"!=",v.notEqual)},v.strictEqual=function(t,e,n){t!==e&&E(t,e,n,"===",v.strictEqual)},v.notStrictEqual=function(t,e,n){t===e&&E(t,e,n,"!==",v.notStrictEqual)},v.eq=v.equal,v.notEq=v.notEqual,v.strictEq=v.strictEqual,v.notStrictEq=v.notStrictEqual}(),function(){function t(t,n){if(t===n)return!0;f(t)&&(t=d.call(t)),f(t)&&(t=d.call(t));var r=p(t);switch(r){case"Number":case"Boolean":case"String":return t==n;case"RegExp":case"Date":return""+t==""+n}if(s(t)&&s(n)){if(t.length!=n.length)return!1;for(var c=0;t.length>c;c++)if(t[c]!=n[c])return!1;return!0}return i(t)||i(n)?e(t,n):t===n}function e(e,n){var r,c,o=y(e).sort(),a=y(n).sort();if(o.length!=a.length)return!1;for(c=o.length;-1!==--c;)if(o[c]!=a[c])return!1;for(c=o.length;-1!==--c;)if(r=o[c],!t(e[r],n[r]))return!1;return!0}v.deepEqual=function(e,n,r){t(e,n)===!1&&E(e,n,r,"deepEqual",v.deepEqual)},v.notDeepEqual=function(e,n,r){t(e,n)===!0&&E(e,n,r,"notDeepEqual",v.notDeepEqual)},v.deepEq=v.deepEqual,v.notDeepEq=v.notDeepEqual}(),function(){function t(t){var e=Object.prototype.toString.call(t).replace("[object ","").replace("]","");switch(e){case c:case o:case i:case u:case f:case s:case l:return e;case a:return"number"==typeof t.length&&"function"==typeof t.splice&&"function"==typeof t.indexOf?o:a;case"Null":case"Undefined":return p;default:return h}}function e(t,e,c,o,a){var i=n(t,e);i!==c&&(c!==!1||i===!0)&&("string"==typeof i&&(o="("+i+") "+o),E(t,e,o,r,a))}function n(e,r){var g,y,d=t(e),v=t(r);switch(d){case i:return i===v?-1!==e.indexOf(r)||"Not a substring of "+e:u===v?r.test(e)||"RegExp failed: "+e:"Unexpected types: String-"+v;case u:case c:case s:case f:case l:return""+e==""+r||"Unexpected value: "+e;case h:return e===r||"Reference check";case a:if(i===v)return r in e||"Property expected:"+r;if(a===v){for(var E in r){if(E in e==!1)return"Property expected: "+E;if(g=t(e[E]),y=t(r[E]),y!==p){if(g!==y)return"Type missmatch: "+g+"-"+y;if(i!==g){var b=n(e[E],r[E]);if(b!==!0)return b}else if(e[E]!==r[E])return"Unexpected value: "+e[E]}}return!0}return"Unexpected types: Object-"+v}if(o===d)switch(v){case s:case i:case f:return-1!==e.indexOf(r)||"Array should contain: "+r;case c:case u:case l:var q=""+r;return e.some(function(t){return""+t===q})||"Array should contain: "+q;case o:var m,w=0,x=r.length,k=e.length;t:for(;x>w;w++)switch(y=t(r[w])){case i:case s:case f:case u:case c:case l:var b=n(e,r[w]);if(b!==!0)return b;continue t;case a:case o:for(m=0;k>m&&(y!==t(e[m])||n(e[m],r[w])!==!0);m++);if(m===k)return y+" is not a subset";continue t}return!0}return"Unexpected types: "+d+"-"+v}v.has=function(t,n,r){e(t,n,!0,r,v.has)},v.hasNot=function(t,n,r){e(t,n,!1,r,v.hasNot)};var r="âŠ‡",c="Date",o="Array",a="Object",i="String",u="RegExp",s="Number",f="Boolean",l="Function",p="<undefined>",h="<reference-check>"}(),function(){function t(t,n,r,c,o){var a=e(t,n);a!==r&&E(t,n,c,"~~",o)}function e(t,n){if(null==n)return t==n;if("string"==typeof n){var r=p(t);switch(n){case"Object":return null!=t&&"object"==typeof t}return r===n}return"function"==typeof n?t instanceof n:"object"==typeof n&&n.constructor?e(t,n.constructor):!1}v.is=function(e,n,r){t(e,n,!0,r,v.has)},v.isNot=function(e,n,r){t(e,n,!1,r,v.hasNot)}}(),function(){function e(t){["$eq","$notEq","$deepEq","$notDeepEq","$has","$hasNot","$is","$isNot"].forEach(function(e){function r(t,e,n,r,c,o){var a=e[n];"function"==typeof a&&(a=a.apply(e,r)),v[t](a,c,o)}function c(t,e,n,r,c){var o=n(e);v[t](o,r,c)}t.fn[e]=function(t){var o,a=d.call(arguments);n(t)&&(o=a[a.length-1],a=t);var i=a.pop(),u=a.shift();return"string"==typeof u?(r(e.substring(1),this,u,a,i,o),this):"function"==typeof u?(c(e.substring(1),this,u,i,o),this):this}})}v.setDOMLibrary=e;var r=t.$||t.jQuery||t.Zepto||t.Kimbo;null!=r&&e(r)}(),function(){function t(t){var n=e[t];if(null==n)return!1;var r=n.length;if(0===r)return!1;for(var c,o=d.call(arguments,1);-1!==--r;)c=n[r],c.apply(null,o);return!0}(function(t,e){function n(t){return function(){e("start");try{t.apply(this,arguments)}catch(n){if(e("fail",n)===!1)throw n;return}e("success")}}for(var r in t)if("function"==typeof t[r]){switch(r){case"callback":case"await":continue}r[0]!==r[0].toUpperCase()&&(t[r]=n(t[r]))}})(v,t),v.on=function(t,n){null==e[t]&&(e[t]=[]),e[t].push(n)},v.off=function(t,n){var r=e[t];if(null!=r){if(null==n)return r.length=0,void 0;for(var c=r.length;-1!==--c;)r[c]===n&&r.splice(c,1)}};var e={}}(),e.assert=g(v.ok,v)});